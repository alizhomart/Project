<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorator="index.html">

<div layout:fragment="index">
    <div class="row">
        <div class="col-12">
            <div class="row">
                <div class="col-6 mx-auto">
                    <form th:action="@{'/updateprofile'}" method="post">
                        <div class="mt-4 mb-2">
                            <label class="mt-2" th:text="#{email}+':'">EMAIL:</label>
                            <input class="form-control" type="text" th:value="${CURRENT_USER.email}" aria-label="Disabled input example" disabled readonly>
                        </div>
                        <div class="mt-2">
                            <label class="mt-2" th:text="#{fullname}+':'">FULL NAME</label>
                            <input type="text" class="form-control mt-2" th:value="${CURRENT_USER.fullname}" name="fullname">
                        </div>
                        <div class="mt-3">
                            <button class="btn btn-success" th:text="#{uppro}">UPDATE PROFILE</button>
                        </div>
                    </form>
                </div>
            </div>

            <div class="row mt-3">
                <div class="col-6 mx-auto">
                    <div class="alert alert-success alert-dismissible fade show" role="alert" th:if="${(param.success!=null)}">
                        Password update successfully!
                        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                    </div>
                    <div class="alert alert-danger alert-dismissible fade show" role="alert" th:if="${(param.error!=null)}">
                        Error on passwords!
                        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                    </div>
                    <form th:action="@{'/updatepassword'}" method="post">
                        <div class="mt-2">
                            <label th:text="#{oldpass}">OLD PASSWORD</label>
                            <input type="password" class="form-control mt-2" name="old_password" >
                        </div>
                        <div class="mt-2">
                            <label th:text="#{newpass}">NEW PASSWORD</label>
                            <input type="password" class="form-control mt-2" name="new_password" >
                        </div>
                        <div class="mt-2">
                            <label th:text="#{renewpass}">REPEAT NEW PASSWORD</label>
                            <input type="password" class="form-control mt-2" name="new_password2" >
                        </div>
                        <div class="mt-3">
                            <button class="btn btn-success" th:text="#{uppas}">UPDATE PASSWORD</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
</html>